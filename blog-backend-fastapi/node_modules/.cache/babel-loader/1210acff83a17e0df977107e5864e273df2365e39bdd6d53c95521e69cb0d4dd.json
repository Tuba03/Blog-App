{"ast":null,"code":"var _jsxFileName = \"/Users/tuba/Downloads/Blog-App-master/src/components/pages/Login.js\",\n  _s = $RefreshSig$();\n// src/components/pages/Login.js\nimport { Button, Card, CardBody, CardHeader, Col, Container, FormGroup, Label, Row } from \"reactstrap\";\nimport Base from \"../Base\";\nimport { useState } from \"react\";\nimport { useNavigate, NavLink } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\"; // Import the Auth context\nimport { login } from '../../services/user-service';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    login: authLogin\n  } = useAuth(); // Destructure the login function from context\n\n  const [loginDetail, setLoginDetail] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const handleChange = (event, field) => {\n    const actualValue = event.target.value;\n    setLoginDetail({\n      ...loginDetail,\n      [field]: actualValue\n    });\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    if (!loginDetail.username.trim() || !loginDetail.password.trim()) {\n      setError(\"Username and password are required!\");\n      return;\n    }\n    try {\n      const data = await login(loginDetail.username, loginDetail.password);\n      authLogin(); // Call the login function to update context\n      navigate('/home');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Login error:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'An unexpected error occurred');\n    }\n  };\n  const resetData = () => {\n    setLoginDetail({\n      username: '',\n      password: ''\n    });\n    setError('');\n  };\n  return /*#__PURE__*/_jsxDEV(Base, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          sm: {\n            size: 6,\n            offset: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleFormSubmit,\n                children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"email\",\n                    type: \"email\",\n                    placeholder: \"Email\",\n                    value: loginDetail.username,\n                    onChange: e => handleChange(e, 'username')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"password\",\n                    type: \"password\",\n                    placeholder: \"Password\",\n                    value: loginDetail.password,\n                    onChange: e => handleChange(e, 'password')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 37\n                }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 47\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(Label, {\n                    for: \"fp\",\n                    children: /*#__PURE__*/_jsxDEV(NavLink, {\n                      to: \"/ForgotPassword\",\n                      children: \"Forgot password?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container, {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: resetData,\n                    color: \"secondary\",\n                    className: \"ms-2\",\n                    children: \"Reset\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"b+YLO2/8nHyHOgpd2gwSZ7ZMurE=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Button","Card","CardBody","CardHeader","Col","Container","FormGroup","Label","Row","Base","useState","useNavigate","NavLink","useAuth","login","jsxDEV","_jsxDEV","Login","_s","navigate","authLogin","loginDetail","setLoginDetail","username","password","error","setError","handleChange","event","field","actualValue","target","value","handleFormSubmit","preventDefault","trim","data","_error$response","_error$response$data","console","response","message","resetData","children","className","sm","size","offset","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","id","type","placeholder","onChange","e","for","to","onClick","color","_c","$RefreshReg$"],"sources":["/Users/tuba/Downloads/Blog-App-master/src/components/pages/Login.js"],"sourcesContent":["// src/components/pages/Login.js\r\nimport { Button, Card, CardBody, CardHeader, Col, Container, FormGroup, Label, Row } from \"reactstrap\";\r\nimport Base from \"../Base\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate, NavLink } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/AuthContext\"; // Import the Auth context\r\nimport { login } from '../../services/user-service';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n    const { login: authLogin } = useAuth(); // Destructure the login function from context\r\n    \r\n    const [loginDetail, setLoginDetail] = useState({ username: '', password: '' });\r\n    const [error, setError] = useState('');\r\n\r\n    const handleChange = (event, field) => {\r\n        const actualValue = event.target.value;\r\n        setLoginDetail({ ...loginDetail, [field]: actualValue });\r\n    };\r\n\r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if (!loginDetail.username.trim() || !loginDetail.password.trim()) {\r\n            setError(\"Username and password are required!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const data = await login(loginDetail.username, loginDetail.password);\r\n            authLogin(); // Call the login function to update context\r\n            navigate('/home');\r\n        } catch (error) {\r\n            console.error('Login error:', error);\r\n            setError(error.response?.data?.message || 'An unexpected error occurred');\r\n        }\r\n    };\r\n\r\n    const resetData = () => {\r\n        setLoginDetail({ username: '', password: '' });\r\n        setError('');\r\n    };\r\n\r\n    return (\r\n        <Base>\r\n            <Container>\r\n                <Row className=\"mt-4\">\r\n                    <Col sm={{ size: 6, offset: 3 }}>\r\n                        <Card>\r\n                            <CardHeader><h3>Login</h3></CardHeader>\r\n                            <CardBody>\r\n                                <form onSubmit={handleFormSubmit}>\r\n                                    <FormGroup>\r\n                                        <input\r\n                                            id=\"email\"\r\n                                            type=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={loginDetail.username}\r\n                                            onChange={(e) => handleChange(e, 'username')}\r\n                                        />\r\n                                    </FormGroup>\r\n                                    <FormGroup>\r\n                                        <input\r\n                                            id=\"password\"\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={loginDetail.password}\r\n                                            onChange={(e) => handleChange(e, 'password')}\r\n                                        />\r\n                                    </FormGroup>\r\n                                    {error && <p className=\"error\">{error}</p>}\r\n                                    <FormGroup>\r\n                                        <Label for=\"fp\">\r\n                                            <NavLink to=\"/ForgotPassword\">Forgot password?</NavLink>\r\n                                        </Label>\r\n                                    </FormGroup>\r\n                                    <Container className=\"text-center\">\r\n                                        <Button type=\"submit\">Login</Button>\r\n                                        <Button onClick={resetData} color=\"secondary\" className=\"ms-2\">Reset</Button>\r\n                                    </Container>\r\n                                </form>\r\n                            </CardBody>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}