{"ast":null,"code":"// Check if the user is logged in\nexport const isLoggedIn = () => {\n  const userData = localStorage.getItem(\"data\");\n  const authToken = localStorage.getItem(\"authToken\");\n  return userData !== null && authToken !== null;\n};\n\n// Logout the user\nexport const doLogout = next => {\n  try {\n    localStorage.removeItem(\"data\");\n    localStorage.removeItem(\"authToken\"); // Clear token\n    if (typeof next === 'function') {\n      next();\n    } else {\n      console.warn('Next function is not defined or not a function.');\n    }\n  } catch (error) {\n    console.error('Logout failed:', error);\n  }\n};\n\n// Get current user details\nexport const getCurrentUserDetail = () => {\n  try {\n    if (isLoggedIn()) {\n      const data = JSON.parse(localStorage.getItem(\"data\"));\n      return data && data.user ? data.user : undefined;\n    }\n    return undefined;\n  } catch (error) {\n    console.error('Failed to parse user data:', error);\n    return undefined;\n  }\n};\nconsole.log('Auth exports:', {\n  getCurrentUserDetail,\n  isLoggedIn\n});","map":{"version":3,"names":["isLoggedIn","userData","localStorage","getItem","authToken","doLogout","next","removeItem","console","warn","error","getCurrentUserDetail","data","JSON","parse","user","undefined","log"],"sources":["/Users/tuba/Downloads/Blog-App-master/src/auth/index.js"],"sourcesContent":["// Check if the user is logged in\r\nexport const isLoggedIn = () => {\r\n    const userData = localStorage.getItem(\"data\");\r\n    const authToken = localStorage.getItem(\"authToken\");\r\n    return userData !== null && authToken !== null;\r\n};\r\n\r\n// Logout the user\r\nexport const doLogout = (next) => {\r\n    try {\r\n        localStorage.removeItem(\"data\");\r\n        localStorage.removeItem(\"authToken\"); // Clear token\r\n        if (typeof next === 'function') {\r\n            next();\r\n        } else {\r\n            console.warn('Next function is not defined or not a function.');\r\n        }\r\n    } catch (error) {\r\n        console.error('Logout failed:', error);\r\n    }\r\n};\r\n\r\n// Get current user details\r\nexport const getCurrentUserDetail = () => {\r\n    try {\r\n        if (isLoggedIn()) {\r\n            const data = JSON.parse(localStorage.getItem(\"data\"));\r\n            return data && data.user ? data.user : undefined;\r\n        }\r\n        return undefined;\r\n    } catch (error) {\r\n        console.error('Failed to parse user data:', error);\r\n        return undefined;\r\n    }\r\n};\r\n\r\nconsole.log('Auth exports:', { getCurrentUserDetail, isLoggedIn });\r\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,UAAU,GAAGA,CAAA,KAAM;EAC5B,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC7C,MAAMC,SAAS,GAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EACnD,OAAOF,QAAQ,KAAK,IAAI,IAAIG,SAAS,KAAK,IAAI;AAClD,CAAC;;AAED;AACA,OAAO,MAAMC,QAAQ,GAAIC,IAAI,IAAK;EAC9B,IAAI;IACAJ,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;IAC/BL,YAAY,CAACK,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;IACtC,IAAI,OAAOD,IAAI,KAAK,UAAU,EAAE;MAC5BA,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHE,OAAO,CAACC,IAAI,CAAC,iDAAiD,CAAC;IACnE;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;EAC1C;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EACtC,IAAI;IACA,IAAIX,UAAU,CAAC,CAAC,EAAE;MACd,MAAMY,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACZ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACrD,OAAOS,IAAI,IAAIA,IAAI,CAACG,IAAI,GAAGH,IAAI,CAACG,IAAI,GAAGC,SAAS;IACpD;IACA,OAAOA,SAAS;EACpB,CAAC,CAAC,OAAON,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,OAAOM,SAAS;EACpB;AACJ,CAAC;AAEDR,OAAO,CAACS,GAAG,CAAC,eAAe,EAAE;EAAEN,oBAAoB;EAAEX;AAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}